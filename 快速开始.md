# 快速开始指南

## ✅ 你的 API 配置状态

请将 API Key 放在本地 `.env` 或系统环境变量中（不要提交到仓库）。

---

## 📦 安装依赖

```bash
pip install -r requirements.txt
```

主要依赖：
- `fastapi` - Web 框架
- `dashscope` - 通义千问 SDK
- `pandas` - 数据处理
- `jieba` - 中文分词
- `python-dotenv` - 环境变量管理

---

## 🔧 配置环境变量（可选）

### 方法1：使用 .env 文件（推荐）

1. 复制示例文件：
   ```bash
   copy env.example .env
   ```

2. 编辑 `.env` 文件，设置你的 API Key：
   ```
   ALI_QWEN_API_KEY=sk-your-api-key-here
   ALI_QWEN_MODEL=qwen-plus
   ```

### 方法2：直接使用代码中的默认值

不建议在代码中硬编码 API Key；请使用环境变量注入。

---

## 🧪 测试 API

运行测试脚本：
```bash
python test_api.py
```

如果看到 "API 连接成功"，说明配置正确！

---

## 📚 通义千问 API 说明

### 获取方式
1. 访问：https://dashscope.console.aliyun.com/
2. 登录阿里云账号
3. 开通 DashScope 服务
4. 创建 API Key

### 价格参考
- **Qwen-Turbo**: 0.001元/1K tokens（输入），0.003元/1K tokens（输出）
- **Qwen-Plus-2025-07-28**: 阶梯计费，支持1M上下文 ⭐ 推荐（最新版本）
- **Qwen-Max**: 0.12元/1K tokens（输入+输出）

**注意**：Qwen-Plus-2025-07-28 采用阶梯计费，根据上下文长度计费，支持最长1M上下文。

### 使用限制
- 新用户通常有免费额度
- 不同模型有不同的 QPS（每秒查询数）限制
- 单次请求有最大 token 数限制

---

## 🚀 启动项目

### 方法1：使用 Python 启动脚本（最推荐）⭐

```bash
python run.py
```

**功能特点**：
- ✅ 自动检查虚拟环境
- ✅ 自动检查并安装依赖（后端和前端）
- ✅ 检查端口占用情况
- ✅ 同时启动前端（端口 3500）和后端（端口 8000）
- ✅ **自动打开浏览器**访问前端页面
- ✅ 优雅处理服务停止（Ctrl+C）
- ✅ 实时显示服务日志

### 方法2：使用其他启动脚本

#### Windows PowerShell 脚本
```powershell
.\start.ps1
```

#### Windows 批处理脚本（双击运行）
```bash
start.bat
```

启动脚本会自动：
- ✅ 检查并激活虚拟环境
- ✅ 检查并安装依赖
- ✅ 检查端口占用情况
- ✅ 同时启动前端（端口 3500）和后端（端口 8000）

### 方法2：手动启动

#### 启动后端
```bash
# 激活虚拟环境
.venv\Scripts\activate

# 启动后端服务
python -m uvicorn backend.app.main:app --host 0.0.0.0 --port 8000 --reload
```

#### 启动前端（新开一个终端）
```bash
cd frontend
npm install  # 首次运行需要安装依赖
npm run dev
```

### 访问地址

- **前端**: http://localhost:3500
- **后端 API**: http://localhost:8000
- **API 文档**: http://localhost:8000/docs

---

## 🚀 下一步

现在可以开始开发了！

1. **第1天任务**：搭建项目框架
2. **第2天任务**：实现检索功能
3. **第3天任务**：集成 LLM 意图理解
4. **第4天任务**：实现多轮对话
5. **第5天任务**：部署上线

详细计划请查看：`5天开发计划.md`

---

## 📖 相关文档

- `技术设计方案.md` - 详细的技术设计
- `通义千问API配置说明.md` - API 配置详细说明
- `5天开发计划.md` - 开发计划

---

**配置完成！可以开始开发了！** 🎉

