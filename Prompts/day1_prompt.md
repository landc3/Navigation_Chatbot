# 第1天开发任务 Prompt

## 📅 第1天：项目搭建与数据准备

### 任务目标
完成项目基础框架搭建，实现数据加载和预处理，建立前后端通信基础。

---

## 上午任务（4小时）

### 1. 技术栈选型与项目初始化

#### 技术栈确认
- ✅ **后端**：Python + FastAPI（已确认）
- ✅ **前端**：React + Vite（待创建）
- ✅ **LLM**：通义千问 API（已配置）
- ✅ **数据处理**：pandas（已安装）

#### 项目目录结构
```
Navigation_Chatbot/
├── backend/              # 后端代码
│   ├── app/
│   │   ├── __init__.py
│   │   ├── main.py       # FastAPI主应用
│   │   ├── models/       # 数据模型
│   │   ├── services/     # 业务逻辑
│   │   ├── api/          # API路由
│   │   └── utils/        # 工具函数
│   └── requirements.txt
├── frontend/             # 前端代码
│   ├── src/
│   │   ├── components/   # React组件
│   │   ├── pages/        # 页面
│   │   ├── services/     # API调用
│   │   └── App.jsx
│   ├── package.json
│   └── vite.config.js
├── Prompts/              # 开发提示文档
├── config.py             # 配置文件（已有）
├── 资料清单.csv          # 数据文件（已有）
└── keywords.txt          # 搜索关键词（已有）
```

#### 任务清单
- [ ] 创建backend目录结构
- [ ] 创建frontend目录结构
- [ ] 初始化Git仓库（如果还没有）
- [ ] 确认requirements.txt依赖完整

---

### 2. 数据文件分析与预处理

#### 数据文件说明
- **资料清单.csv**：4235条记录
  - 字段：ID, 层级路径, 关联文件名称
  - 层级路径格式：`电路图->ECU电路图->工程机械->三一->德国仪表`
  - 层级深度不固定

#### 数据加载模块需求
- [ ] 读取CSV文件
- [ ] 解析层级路径（用`->`分割）
- [ ] 构建数据结构便于检索
- [ ] 分析层级路径的统计信息（品牌、型号、类型分布）

#### 层级路径解析需求
- 提取各层级信息
- 识别常见层级类型：
  - 电路图类型（ECU电路图、整车电路图等）
  - 车辆类别（工程机械、商用车等）
  - 品牌（三一、徐工、东风、解放等）
  - 系列/型号
  - 其他属性

#### 用户搜索模式分析
- [ ] 读取keywords.txt
- [ ] 分析用户搜索习惯
- [ ] 识别常见搜索关键词模式

---

## 下午任务（4小时）

### 3. 基础项目架构搭建

#### 后端API框架
- [ ] 创建FastAPI应用主文件
- [ ] 定义基础路由：
  - `/` - 健康检查
  - `/api/chat` - 聊天接口
  - `/api/search` - 搜索接口（可选）
- [ ] 配置CORS支持前端跨域
- [ ] 设置API响应格式

#### 前端基础页面
- [ ] 创建React + Vite项目
- [ ] 设计聊天界面布局：
  - 消息显示区域（滚动）
  - 输入框和发送按钮
  - 加载状态显示
- [ ] 实现基础样式（简洁清晰）

#### 前后端通信
- [ ] 前端配置API基础URL
- [ ] 实现HTTP请求封装
- [ ] 测试前后端连接
- [ ] 实现简单的ping/pong测试

---

### 4. 数据模型设计

#### 电路图数据模型
```python
class CircuitDiagram:
    id: int
    hierarchy_path: List[str]  # 层级路径列表
    file_name: str              # 文件名称
    # 解析后的字段
    diagram_type: str           # 电路图类型
    vehicle_category: str       # 车辆类别
    brand: str                  # 品牌
    model: str                  # 型号
    other_attrs: Dict           # 其他属性
```

#### 层级路径解析工具
- [ ] 实现路径解析函数
- [ ] 识别层级类型（类型、类别、品牌、型号等）
- [ ] 提取关键信息

#### 数据索引结构
- [ ] 创建便于检索的数据结构
- [ ] 考虑后续搜索优化需求
- [ ] 实现数据加载和缓存机制

---

## 交付物检查清单

### 必须完成
- [x] 项目目录结构创建完成
- [ ] 数据加载模块可用（能读取CSV）
- [ ] 层级路径解析工具可用
- [ ] 后端API可以启动
- [ ] 前端页面可以访问
- [ ] 前后端可以通信（测试通过）

### 代码质量要求
- 代码结构清晰
- 注释完整
- 遵循Python和JavaScript最佳实践
- 错误处理完善

---

## 开发注意事项

1. **数据加载性能**：4235条数据不算太多，但要注意加载效率
2. **层级路径解析**：层级深度不固定，需要灵活处理
3. **前后端通信**：确保CORS配置正确
4. **错误处理**：文件不存在、数据格式错误等情况要处理
5. **代码可扩展性**：为后续功能预留接口

---

## 下一步准备

完成第1天后，为第2天做准备：
- 数据模型要便于后续搜索
- API接口设计要考虑多轮对话需求
- 前端界面要预留选择题显示空间

---

**开始开发！** 🚀

