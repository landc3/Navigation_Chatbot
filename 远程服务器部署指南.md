# è¿œç¨‹é˜¿é‡Œäº‘æœåŠ¡å™¨éƒ¨ç½²æŒ‡å—

## ğŸ“‹ éƒ¨ç½²ä¿¡æ¯
- **æœåŠ¡å™¨IP**: 101.37.89.207
- **æ“ä½œç³»ç»Ÿ**: Windows Server 2022
- **GitHubä»“åº“**: https://github.com/landc3/Navigation_Chatbot.git
- **å®‰å…¨ç»„**: å·²é…ç½®ï¼ˆç«¯å£80ã€8000ã€22ï¼‰

---

## âš¡ å¿«é€Ÿéƒ¨ç½²ï¼ˆæ¨èï¼‰

**å¦‚æœä½ å·²ç»å®‰è£…äº†Gitå’ŒDocker Desktopï¼Œå¯ä»¥ä½¿ç”¨ä¸€é”®éƒ¨ç½²è„šæœ¬ï¼š**

1. **è¿œç¨‹è¿æ¥åˆ°æœåŠ¡å™¨**
   ```powershell
   mstsc /v:101.37.89.207
   ```

2. **åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œéƒ¨ç½²è„šæœ¬**
   ```powershell
   # ä¸‹è½½éƒ¨ç½²è„šæœ¬ï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰
   cd C:\
   git clone https://github.com/landc3/Navigation_Chatbot.git
   cd Navigation_Chatbot\scripts
   
   # ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡ŒPowerShellï¼Œæ‰§è¡Œéƒ¨ç½²è„šæœ¬
   .\deploy_remote.ps1
   ```

è„šæœ¬ä¼šè‡ªåŠ¨å®Œæˆï¼š
- âœ… æ£€æŸ¥Gitå’ŒDockerå®‰è£…
- âœ… å…‹éš†/æ›´æ–°é¡¹ç›®ä»£ç 
- âœ… é…ç½®ç¯å¢ƒå˜é‡ï¼ˆéœ€è¦æ‰‹åŠ¨è¾“å…¥APIå¯†é’¥ï¼‰
- âœ… é…ç½®Windowsé˜²ç«å¢™
- âœ… æ„å»ºå¹¶å¯åŠ¨Dockerå®¹å™¨

---

## ğŸš€ æ‰‹åŠ¨éƒ¨ç½²æ­¥éª¤ï¼ˆè¯¦ç»†è¯´æ˜ï¼‰

### ç¬¬1æ­¥ï¼šè¿œç¨‹è¿æ¥åˆ°æœåŠ¡å™¨

**ä½¿ç”¨Windowsè¿œç¨‹æ¡Œé¢è¿æ¥ï¼ˆRDPï¼‰ï¼š**

1. åœ¨æœ¬åœ°ç”µè„‘æŒ‰ `Win + R`
2. è¾“å…¥ `mstsc` å¹¶å›è½¦
3. è¾“å…¥æœåŠ¡å™¨IPï¼š`101.37.89.207`
4. ç‚¹å‡»"è¿æ¥"
5. è¾“å…¥ç®¡ç†å‘˜ç”¨æˆ·åå’Œå¯†ç ç™»å½•

**æˆ–è€…ä½¿ç”¨PowerShellï¼š**
```powershell
mstsc /v:101.37.89.207
```

---

### ç¬¬2æ­¥ï¼šåœ¨æœåŠ¡å™¨ä¸Šå®‰è£…Gitï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰

åœ¨è¿œç¨‹æœåŠ¡å™¨çš„PowerShellä¸­æ‰§è¡Œï¼š

```powershell
# æ£€æŸ¥æ˜¯å¦å·²å®‰è£…Git
git --version

# å¦‚æœæœªå®‰è£…ï¼Œä¸‹è½½å¹¶å®‰è£…Git for Windows
# è®¿é—®ï¼šhttps://git-scm.com/download/win
# æˆ–è€…ä½¿ç”¨wingetå®‰è£…ï¼ˆWindows 10/11ï¼‰
winget install --id Git.Git -e --source winget
```

---

### ç¬¬3æ­¥ï¼šå®‰è£…Docker Desktopï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰

1. **ä¸‹è½½Docker Desktop**
   - åœ¨è¿œç¨‹æœåŠ¡å™¨çš„æµè§ˆå™¨ä¸­è®¿é—®ï¼šhttps://www.docker.com/products/docker-desktop/
   - ä¸‹è½½ "Docker Desktop for Windows"
   - è¿è¡Œå®‰è£…ç¨‹åº

2. **å®‰è£…å®Œæˆå**
   - é‡å¯æœåŠ¡å™¨ï¼ˆå¦‚æœéœ€è¦ï¼‰
   - å¯åŠ¨Docker Desktop
   - ç­‰å¾…Dockerå¯åŠ¨å®Œæˆï¼ˆå³ä¸‹è§’å›¾æ ‡å˜ç»¿ï¼‰

3. **éªŒè¯å®‰è£…**
   ```powershell
   docker --version
   docker compose version
   ```

---

### ç¬¬4æ­¥ï¼šå…‹éš†GitHubä»“åº“åˆ°æœåŠ¡å™¨

åœ¨è¿œç¨‹æœåŠ¡å™¨çš„PowerShellä¸­æ‰§è¡Œï¼š

```powershell
# è¿›å…¥Cç›˜æ ¹ç›®å½•ï¼ˆæˆ–å…¶ä»–ä½ æƒ³è¦çš„ç›®å½•ï¼‰
cd C:\

# å…‹éš†GitHubä»“åº“
git clone https://github.com/landc3/Navigation_Chatbot.git

# è¿›å…¥é¡¹ç›®ç›®å½•
cd Navigation_Chatbot

# æŸ¥çœ‹é¡¹ç›®æ–‡ä»¶
dir
```

**å¦‚æœä»“åº“æ˜¯ç§æœ‰çš„ï¼Œéœ€è¦å…ˆé…ç½®Gitå‡­æ®ï¼š**
```powershell
# é…ç½®Gitç”¨æˆ·ä¿¡æ¯ï¼ˆå¦‚æœéœ€è¦ï¼‰
git config --global user.name "Your Name"
git config --global user.email "your.email@example.com"
```

---

### ç¬¬5æ­¥ï¼šé…ç½®ç¯å¢ƒå˜é‡

```powershell
# ç¡®ä¿åœ¨é¡¹ç›®ç›®å½•ä¸­
cd C:\Navigation_Chatbot

# å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
Copy-Item env.example .env

# ç¼–è¾‘.envæ–‡ä»¶
notepad .env
```

**åœ¨æ‰“å¼€çš„è®°äº‹æœ¬ä¸­ï¼Œç¼–è¾‘å†…å®¹ï¼š**
```
ALI_QWEN_API_KEY=ä½ çš„é˜¿é‡Œäº‘APIå¯†é’¥
ALI_QWEN_MODEL=qwen-plus-2025-07-28
BACKEND_HOST=0.0.0.0
BACKEND_PORT=8000
```

**é‡è¦ï¼š**
- å°† `ä½ çš„é˜¿é‡Œäº‘APIå¯†é’¥` æ›¿æ¢ä¸ºä½ çš„çœŸå®APIå¯†é’¥
- ä¿å­˜æ–‡ä»¶ï¼ˆCtrl+Sï¼‰å¹¶å…³é—­è®°äº‹æœ¬

---

### ç¬¬6æ­¥ï¼šé…ç½®Windowsé˜²ç«å¢™ï¼ˆé‡è¦ï¼ï¼‰

åœ¨è¿œç¨‹æœåŠ¡å™¨çš„PowerShellä¸­æ‰§è¡Œï¼ˆä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œï¼‰ï¼š

```powershell
# å…è®¸ç«¯å£80ï¼ˆHTTPï¼‰
New-NetFirewallRule -DisplayName "HTTP Port 80" -Direction Inbound -LocalPort 80 -Protocol TCP -Action Allow

# å…è®¸ç«¯å£8000ï¼ˆåç«¯APIï¼‰
New-NetFirewallRule -DisplayName "Backend API Port 8000" -Direction Inbound -LocalPort 8000 -Protocol TCP -Action Allow

# éªŒè¯è§„åˆ™
Get-NetFirewallRule | Where-Object {$_.DisplayName -like "*80*" -or $_.DisplayName -like "*8000*"}
```

---

### ç¬¬7æ­¥ï¼šå¯åŠ¨Dockerå®¹å™¨

```powershell
# ç¡®ä¿åœ¨é¡¹ç›®ç›®å½•ä¸­
cd C:\Navigation_Chatbot

# ç¡®ä¿Docker Desktopæ­£åœ¨è¿è¡Œ
# æ£€æŸ¥DockerçŠ¶æ€
docker info

# æ„å»ºå¹¶å¯åŠ¨å®¹å™¨ï¼ˆåå°è¿è¡Œï¼‰
docker compose up --build -d

# æŸ¥çœ‹å®¹å™¨çŠ¶æ€
docker ps
```

**åº”è¯¥çœ‹åˆ°ä¸¤ä¸ªå®¹å™¨ï¼š**
- `navigation_chatbot-backend-1` (çŠ¶æ€: Up)
- `navigation_chatbot-frontend-1` (çŠ¶æ€: Up)

---

### ç¬¬8æ­¥ï¼šæŸ¥çœ‹æ—¥å¿—ï¼ˆéªŒè¯å¯åŠ¨ï¼‰

```powershell
# æŸ¥çœ‹æ‰€æœ‰å®¹å™¨æ—¥å¿—
docker compose logs

# æŸ¥çœ‹åç«¯æ—¥å¿—
docker compose logs backend

# æŸ¥çœ‹å‰ç«¯æ—¥å¿—
docker compose logs frontend

# å®æ—¶æŸ¥çœ‹æ—¥å¿—ï¼ˆæŒ‰Ctrl+Cé€€å‡ºï¼‰
docker compose logs -f
```

**å¦‚æœçœ‹åˆ°é”™è¯¯ï¼Œè¯·æ£€æŸ¥ï¼š**
1. `.env` æ–‡ä»¶ä¸­çš„APIå¯†é’¥æ˜¯å¦æ­£ç¡®
2. Docker Desktopæ˜¯å¦æ­£å¸¸è¿è¡Œ
3. ç«¯å£æ˜¯å¦è¢«å ç”¨

---

### ç¬¬9æ­¥ï¼šéªŒè¯éƒ¨ç½²æˆåŠŸ

1. **åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šæµ‹è¯•ï¼ˆæœ¬åœ°è®¿é—®ï¼‰**
   ```powershell
   # æµ‹è¯•åç«¯å¥åº·æ£€æŸ¥
   curl http://localhost:8000/api/health
   
   # æˆ–è€…ä½¿ç”¨PowerShellçš„Invoke-WebRequest
   Invoke-WebRequest -Uri http://localhost:8000/api/health
   ```

2. **åœ¨æœ¬åœ°ç”µè„‘æµè§ˆå™¨ä¸­è®¿é—®**
   - **å‰ç«¯åº”ç”¨**: http://101.37.89.207
   - **åç«¯API**: http://101.37.89.207:8000/api/health
   - **APIæ–‡æ¡£**: http://101.37.89.207:8000/docs

---

## ğŸ”§ å¸¸ç”¨ç®¡ç†å‘½ä»¤

### æŸ¥çœ‹å®¹å™¨çŠ¶æ€
```powershell
docker ps
```

### åœæ­¢å®¹å™¨
```powershell
cd C:\Navigation_Chatbot
docker compose down
```

### é‡å¯å®¹å™¨
```powershell
cd C:\Navigation_Chatbot
docker compose restart
```

### æ›´æ–°ä»£ç åé‡æ–°éƒ¨ç½²
```powershell
cd C:\Navigation_Chatbot
# æ‹‰å–æœ€æ–°ä»£ç 
git pull

# é‡æ–°æ„å»ºå¹¶å¯åŠ¨
docker compose up --build -d
```

### æŸ¥çœ‹å®¹å™¨èµ„æºä½¿ç”¨
```powershell
docker stats
```

---

## âš ï¸ æ•…éšœæ’æŸ¥

### é—®é¢˜1ï¼šå®¹å™¨æ— æ³•å¯åŠ¨

**æ£€æŸ¥æ—¥å¿—ï¼š**
```powershell
docker compose logs backend
docker compose logs frontend
```

**å¸¸è§åŸå› ï¼š**
- APIå¯†é’¥æœªé…ç½®æˆ–é”™è¯¯
- ç«¯å£è¢«å ç”¨
- Docker Desktopæœªå¯åŠ¨

### é—®é¢˜2ï¼šç«¯å£è¢«å ç”¨

**æ£€æŸ¥ç«¯å£å ç”¨ï¼š**
```powershell
netstat -ano | findstr :80
netstat -ano | findstr :8000
```

**åœæ­¢å ç”¨ç«¯å£çš„è¿›ç¨‹ï¼š**
```powershell
# æ‰¾åˆ°å ç”¨ç«¯å£çš„è¿›ç¨‹IDï¼ˆPIDï¼‰ï¼Œç„¶ååœæ­¢
taskkill /PID <è¿›ç¨‹ID> /F
```

### é—®é¢˜3ï¼šæ— æ³•ä»å¤–ç½‘è®¿é—®

**æ£€æŸ¥æ¸…å•ï¼š**
1. âœ… å®‰å…¨ç»„è§„åˆ™å·²é…ç½®ï¼ˆé˜¿é‡Œäº‘æ§åˆ¶å°ï¼‰
2. âœ… Windowsé˜²ç«å¢™å·²å¼€æ”¾ç«¯å£
3. âœ… Dockerå®¹å™¨æ­£åœ¨è¿è¡Œï¼š`docker ps`
4. âœ… æœåŠ¡å™¨å¯ä»¥æœ¬åœ°è®¿é—®ï¼š`curl http://localhost:8000/api/health`

### é—®é¢˜4ï¼š502 Bad Gatewayé”™è¯¯

**å¯èƒ½åŸå› ï¼š**
- å®¹å™¨æœªå¯åŠ¨
- åç«¯æœåŠ¡å´©æºƒ
- ç¯å¢ƒå˜é‡é…ç½®é”™è¯¯

**è§£å†³æ–¹æ³•ï¼š**
```powershell
# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
docker compose logs backend

# æ£€æŸ¥ç¯å¢ƒå˜é‡
docker compose config

# é‡å¯å®¹å™¨
docker compose restart backend
```

---

## ğŸ“ éƒ¨ç½²å®Œæˆæ£€æŸ¥æ¸…å•

- [ ] å·²è¿œç¨‹è¿æ¥åˆ°æœåŠ¡å™¨
- [ ] Gitå·²å®‰è£…å¹¶å¯ä»¥å…‹éš†ä»“åº“
- [ ] Docker Desktopå·²å®‰è£…å¹¶è¿è¡Œ
- [ ] é¡¹ç›®ä»£ç å·²å…‹éš†åˆ°æœåŠ¡å™¨
- [ ] `.env` æ–‡ä»¶å·²é…ç½®APIå¯†é’¥
- [ ] Windowsé˜²ç«å¢™å·²å¼€æ”¾ç«¯å£80å’Œ8000
- [ ] Dockerå®¹å™¨å·²æˆåŠŸå¯åŠ¨
- [ ] å¯ä»¥åœ¨æµè§ˆå™¨è®¿é—® http://101.37.89.207
- [ ] å¯ä»¥åœ¨æµè§ˆå™¨è®¿é—® http://101.37.89.207:8000/docs

---

## ğŸ‰ éƒ¨ç½²æˆåŠŸï¼

éƒ¨ç½²å®Œæˆåï¼Œä½ çš„å¯¼èˆªèŠå¤©æœºå™¨äººå¯ä»¥é€šè¿‡ä»¥ä¸‹åœ°å€è®¿é—®ï¼š

- **å‰ç«¯åº”ç”¨**: http://101.37.89.207
- **åç«¯API**: http://101.37.89.207:8000
- **APIæ–‡æ¡£**: http://101.37.89.207:8000/docs

**æ­å–œï¼ä½ çš„åº”ç”¨å·²ç»æˆåŠŸéƒ¨ç½²åˆ°å…¬ç½‘äº†ï¼** ğŸš€

